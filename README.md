# cpp-gtest-dp-test
## Test use of Data Providers within Google Test. gcc g++12 required!

Пробный проект использования пакета **Google Test (Test + Mock)**. Установка библиотеки производится в локальную
build-директорию силами самого CMake полностью автоматически при агрузке проекта. 
Обычно это _**<project_dir>/cmake-build-debug/_deps/googletest-src**_

Проект Google Test собирается как **application**, а тестируемые классы линкуются к нему как **статическая библиотека**,
см. файлы CMakeLists.txt в корне проекта и директории /tests

Т.к. основной исполняемый файл и есть тесты, достаточно просто запустить проект в IDE как обычное приложение.
В наборы тестовых данных заранее внесено несколько ошибок, чтобы можно было оценить формат и степень подробности диагностических сообщений.

#### Стартовый файл для изучения - tests/test.cpp

    * -main.cpp                    - запуск проекта, инициализация Google Test
    * -CMakeLists.txt              - основная конфигурация проекта, загрузка библиотеки, инициализация переменных среды
    * -tests/CMakeLists.txt        - дополнительная конфигурация тестовой части проекта: таргеты, автопоиск тестов
    * -tests/test.h                - заголовки тестовых функций, классов, шаблонные реализации
    * -tests/test.cpp              - наборы тестов различной реализации для сравнения и выбора наиболее удобного или подробного из них
    * -tests/TestDataProvider.h    - шаблоны наборов тестовых данных, шаблоны или объявления data provider'ов
    * -tests/TestDataProvider.cpp  - определения data provider'ов (фактически, задание наборов тестовых данных)
    * -src/cube.h                  - заголовки проверяемых функций
    * -src/cube.cpp                - определения проверяемых функций

Тесты в test.cpp идут в следующем порядке:
* Параметризованный тест шаблонной функции, тип данных которой фиксирован (выполнена специализация шаблона)
* Параметризованый тест нешаблонной функции
* Непараметризованый тест нешаблонной функции
* Шаблонный тест шаблонной функции с const-параметром, возвращающей шаблонный результат
* Шаблонный тест шаблонной void-функции, обрабатывающей переданный по ссылке параметр
* Stand-alone тесты без Data Provider'а, использующие простые макросы Google Test
* Stand-alone тесты без Data Provider'а, использующие продвинутые макросы Google Mock и матчеры